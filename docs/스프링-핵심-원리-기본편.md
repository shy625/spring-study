# 2. 스프링 핵심 원리 이해1 - 예제 만들기

## 2.1 프로젝트 생성

### build.gradle
- plugins
    - 사용하는 플러그인 id와 버전
- group
    - 프로젝트 개발 그룹명
- version
    - 프로젝트 버전
- sourceCompatibility
    - 사용 jdk 버전
- repositories
    - 라이브러리들을 받아올 외부 저장소 위치
- dependencies
    - 사용하는 dependency(라이브러리) 정보
    - Spring Boot 프로젝트 생성 시 별도의 dependency를 추가하지 않으면 spring-boot-starter(core, context)와 spring-boot-starter-test만 로드
- test
    - 사용하는 test 라이브러리 정보

build.gradle 수정 후 새로고침 해주어야 적용되어 라이브러리에 반영됨

### IntelliJ - Gradle 대신 Java 직접 실행
Gradle 통해서 실행(IntelliJ 기본 설정) -> Java 직접 실행으로 변경<br>
Gradle 통해서 실행 시 실행 속도 느림, Java 직접 실행이 더 빠름

## 2.3 회원 도메인 설계

### 다이어그램

#### 회원 도메인 협력 관계
![회원-도메인-협력-관계](/images/회원-도메인-협력-관계.png)

#### 회원 클래스 다이어그램
![회원-클래스-다이어그램](/images/회원-클래스-다이어그램.png)

#### 회원 객체 다이어그램
![회원-객체-다이어그램](/images/회원-객체-다이어그램.png)

도메인 협력 관계 -> 클래스 다이어그램 -> 객체 다이어그램
- 도메인 협력 관계 : 기획자들도 볼 수 있는 다이어그램
- 클래스 다이어그램 : 클래스, 인터페이스 등의 관계도
- 객체 다이어그램 : 애플리케이션이 실행된 뒤 객체들 간의 관계도

## 2.4 회원 도메인 개발
### Interface and Implementor Naming
- Interface에 대해 Implementor가 하나밖에 없을 때, 관례상 Implementor 이름 마지막에 Impl을 붙인다.<br>
ex) MemberServiceImpl
- 그러나 Impl을 붙이는 방법은 Implementor를 특징을 명확하게 보여주는 이름이 아니고, 혼란스러울 수 있기 때문에 좋은 방법은 아니다.
- 보통 Interface를 사용하는 경우 해당 Interface를 구현하는 Implementor가 여러 개 존재하는 경우가 많은데, Implementor의 특징을 나타낼 수 있도록 이름을 붙이는 것이 좋다.<br>
ex) MemoryMemberRepository, DBMemberRepository
- Interface에 대한 Implementor가 하나인 경우, 즉 해당 기능이 추가 확장될 가능성이 없는 경우라면 Implementor가 굳이 필요한 경우가 아니니 Interface를 없애고 구체 class로 바로 만들었다가 추후 필요할 때 리팩토링해서 Interface를 도입한다.
- 참고 [링크](https://thomaspoignant.medium.com/java-how-to-name-interface-and-implementor-94c0fa564b87)

### HashMap
- 여러 곳에서 사용하는 경우, 동시성 이슈가 발생할 수 있어 동시성 이슈가 없는 ConcurrentHashMap을 사용하는 것이 좋다.
- 이 예제에서는 DB 확정 전에 개발 및 테스트용으로만 사용되고 예제의 복잡도를 줄이기 위해 그냥 HashMap을 사용하였다.

### Entity Variable
Entity로 사용되는 클래스의 변수는 Null 값을 가질 수 있는 Wrapper class 또는 Reference Type을 사용하는 것이 권장된다.